<!-- @author https://github.com/diego2013 -->

<!-- Template to list all scenarios -->
<template name="scenarioListTable">
	<p>Content of the database: {{totalCount}} scenarios. {{paginationCaption}}
    <label style="float:right;"> Show 
      <select id="resultsPerPage" value="10">
        <option value ="10" {{selectResultPerPage "10"}} >10</option>
        <option value ="25" {{selectResultPerPage "25"}} >25</option>   
        <option value ="50" {{selectResultPerPage "50"}} >50</option>   
      </select>
      results per page </label>
  </p>


	<table class="tablePijama">
    {{ > Template.dynamic template=getTypeOfTableView}} 
  </table>

  <div style="margin-top:10px;">
    <ul class="pager">
        <li class="previous disabled" id="previousButton"> <a href="#">&larr; {{prevText}}</a> </li>
        <li class="next" id="nextButton"> <a href="#">{{nextText}} &rarr;</a> </li>
    </ul>
  </div> 

</template>

<!-- Template for the view of 'MyScenarios' -->
<template name="myScenariosTableView">
     <colgroup>
        <col data-caption="linkButton" style="width: 6%;">
        <col data-caption="UID" style="width: 13%;">
        <col data-caption="title" style="width: 24%;">
        <col data-caption="description" style="width: 20%;">
        <col data-caption="status" style="width: 7%;">
        <col data-caption="createdAt" style="width: 10%;">
        <col data-caption="modifiedAt" style="width: 10%;">
        <col data-caption="acks" style="width: 6%;">
    </colgroup>

    <tr class="btn-turquesa clickableHeader" id="cabecera">
      <th data-name="" >Link</th>
      <th data-name="_id" >Scenario UID</th>
      <th data-name="title" >Title</th>
      <th data-name="description" >Description</th>
      <th data-name="status" >Status</th>
      <th data-name="createdAt" >Created on</th>
      <th data-name="modifiedAt" >Saved last</th>
      <th data-name="" ># ACKs</th>
    </tr>

    {{#each scenarios}}
         <tr style="text-align: center"> {{ > MyScenariosScenarioRow }} </tr>
    {{/each}}
</template>


<!-- Template with the table display for admin view-->
<template name="scenarioTableViewAdmin">
     <colgroup>
        <col data-caption="creator" style="width: 7%;">
        <col data-caption="linkButton" style="width: 7%;">
        <col data-caption="UID" style="width: 13%;">
        <col data-caption="title" style="width: 24%;">
        <col data-caption="description" style="width: 29%;">
        <col data-caption="status" style="width: 10%;">
        <col data-caption="modifiedAt" style="width: 10%;">
    </colgroup>

    <tr class="btn-turquesa clickableHeader" id="cabecera">
      <th data-name="createdAt" >Created by</th>
      <th data-name="_id" >Link</th>
      <th data-name="_id" >Scenario UID</th>
      <th data-name="title" >Title</th>
      <th data-name="description" >Description</th>
      <th data-name="status" >Status</th>
      <th data-name="modifiedAt" >Saved last</th>
    </tr>

    {{#each scenarios}}
         <tr style="text-align: center"> {{ > scenarioRow }} </tr>
    {{/each}}
</template>

<template name="scenarioTableViewPublic">
      <colgroup>
          <col data-caption="created" style="width: 10%;">
          <col data-caption="linkButton" style="width: 7%;">
          <col data-caption="UID" style="width: 13%;">
          <col data-caption="title" style="width: 24%;">
          <col data-caption="description" style="width: 29%;">
          <col data-caption="acks" style="width: 6%;">
      </colgroup>

      <tr class="btn-turquesa clickableHeader" id="cabecera">
          <th data-name="createdAt" >Created</th>
          <th data-name="_id" >Link</th>
          <th data-name="_id" >Scenario UID</th>
          <th data-name="title" >Title</th>
          <th data-name="description" >Description</th>
          <th data-name="acks" >ACKs</th>
      </tr>

      {{#each scenarios}}
           <tr style="text-align: center"> {{ > publicScenarioRow }} </tr>
      {{/each}}
</template>

<!-- Template with the information of a scenario for a row on the table of 'My Scenarios'-->
<template name="MyScenariosScenarioRow">
   
    <td class="thin-column"><button id="visitScenario" style="width:100%" class="btn-orange clickableHeader" name={{_id}}>Visit Scenario</button> </td>
    <td>{{_id}} </td>
    <td>{{trimLength title 45}} </td>
    <td>{{trimLength description 50}} </td>
    <td>{{status}}  </td>
    <td>{{formatDate createdAt}}  </td>
    <td>{{formatDate modifiedAt}}  </td>
    <td>{{getScenarioACKcount _id}}</td>

</template>

<!-- template with the information of a single scenario -->
<template name="scenarioRow">

  	<td>{{username}}</td>
  	<td class="thin-column"><button id="visitScenario" style="width:100%" class="btn-orange clickableHeader" name={{_id}}>Visit Scenario</button> </td>
  	<td>{{_id}} </td>
  	<td>{{trimLength title 45}} </td>
  	<td>{{trimLength description 50}} </td>
  	<td>{{status}} </td>
    <td>{{formatDate modifiedAt}}  </td>

</template>

<!-- template with the information of a single scenario for public view-->
<template name="publicScenarioRow">

    <td>{{formatDate createdAt}}  </td>
    <td class="thin-column"><button id="visitScenario" style="width:100%" class="btn-orange clickableHeader" name={{_id}}>Visit Scenario</button> </td>
    <td>{{_id}} </td>
    <td>{{trimLength title 45}} </td>
    <td>{{trimLength description 50}} </td>
    <td>{{getScenarioACKcount _id}}</td>

</template>