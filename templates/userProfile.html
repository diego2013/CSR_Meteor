<!-- Template for the user profile -->
<template name="userProfile">
	<form id="userProfileForm" >

		{{#if userLoggedIn}}
			{{> userDataTemplate}}
		{{else}}
			{{> userProfileError}}
		{{/if}}

	</form>

</template>


<!-- Template with the data associated to this user's profile -->
<template name="userDataTemplate"> 
	<strong>User Profile</strong> <br/>
	
	{{#if currentUser}}
		<p><strong>Username</strong> {{username}} <strong>UID</strong> {{_id}}</p>

		<p><strong>Member since </strong>{{formatDate createdAt}}</p>

		<p><strong>Email: </strong>{{getEmail emails}} <strong>verified: </strong>{{isVerifiedEmail emails}}</p>

		<p><strong>Roles: </strong>{{roles}}</p>
	{{/if}}

</template>

<!-- Template to display error message -->
<template name="userProfileError">
	There is a problem loading this profile.

	<p>Maybe you need to be logged in?</p> 
</template>

<!-- Template to list all users -->
<template name="userList">
	<p>Content of the database: {{count usuarios}} Users</p>
	<table>
		<tr>
			<th>username</th>
			<th>email</th>
			<th>verified</th>
			<th>current roles</th>
			<th>UID</th>
			<th>creation date</th>
		</tr>
	  {{#each usuarios}}
        {{ > userProf }}
      {{/each}}
	</table>

</template>

<!-- Template-row to display the info of a single user -->
<template name="userProf">
  <tr class="{{getTablePijamaClass index}}">
  <td><button id="seeUser" style="width:100%" class="btn-orange" name={{_id}}>{{username}}</button></td>
  <td >{{getEmail emails}}</td>
  <td>{{isVerifiedEmail emails}}</td>
  <td align='center' >{{roles}}</td>
  <td>{{_id}}</td>
  <td align='center'>{{formatDate createdAt}} </td>
  </tr>
</template>